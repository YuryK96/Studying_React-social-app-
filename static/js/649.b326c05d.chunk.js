"use strict";(self.webpackChunksocial_network_pet_project_=self.webpackChunksocial_network_pet_project_||[]).push([[649],{649:function(e,t,s){s.r(t),s.d(t,{default:function(){return F}});var r=s(413),n=s(671),o=s(144),i=s(340),a=s(882),u=s(791),l=s(70),c=s(918),d="ProfileInfo_content__zbUR2",p="ProfileInfo_head_img__TnzrM",h="ProfileInfo_avatar__twI4q",f=s(885),v=s(184),x=function(e){var t=e.status,s=e.updateStatus,r=(0,u.useState)(!1),n=(0,f.Z)(r,2),o=n[0],i=n[1],a=(0,u.useState)(t),l=(0,f.Z)(a,2),c=l[0],d=l[1];(0,u.useEffect)((function(){d(t)}),[t]);return(0,v.jsxs)("div",{children:[!o&&(0,v.jsx)("div",{children:(0,v.jsx)("span",{role:"span",onDoubleClick:function(){i(!0)},children:t||"------"})}),o&&(0,v.jsxs)("div",{children:[" ",(0,v.jsx)("input",{autoFocus:!0,onBlur:function(){i(!1),s(c)},onChange:function(e){d(e.currentTarget.value)},value:c})]})]})},j=function(e){var t=e.profile,s=e.status,r=e.updateStatus,n=e.isOwner,o=e.savePhoto;if(!t)return(0,v.jsx)(c.Z,{});return(0,v.jsxs)("div",{className:d,children:[(0,v.jsx)("div",{className:p,children:(0,v.jsx)("img",{src:"https://cdn.pixabay.com/photo/2015/04/23/22/00/tree-736885__480.jpg",alt:""})}),(0,v.jsxs)("div",{className:h,children:[(0,v.jsx)("img",{src:t.photos.large||"https://img.freepik.com/free-vector/businessman-character-avatar-isolated_24877-60111.jpg?w=2000",alt:""}),n&&(0,v.jsx)("input",{type:"file",onChange:function(e){return function(e){e.target.files.length&&o(e.target.files[0])}(e)}}),(0,v.jsx)(x,{status:s,updateStatus:r}),(0,v.jsxs)("div",{children:[(0,v.jsx)("div",{children:"Social Network"}),(0,v.jsx)("div",{children:(0,v.jsx)("a",{target:"_blank",href:t.contacts.facebook,children:"Faceebook"})}),(0,v.jsx)("div",{children:(0,v.jsx)("a",{target:"_blank",href:t.contacts.vk,children:"vk"})}),(0,v.jsx)("div",{children:(0,v.jsx)("a",{target:"_blank",href:t.contacts.twitter,children:"twitter"})}),(0,v.jsx)("div",{children:(0,v.jsx)("a",{target:"_blank",href:t.contacts.github,children:"gitHub"})})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("div",{children:"Work"}),t.lookingForAJob?(0,v.jsx)("div",{children:"Open to work "}):null,(0,v.jsx)("div",{children:t.lookingForAJobDescription})]})]})]})},m=s(687),_=s(781),g=s(896),P="MyPosts_newMessage__RVi5U",k="Post_wrapper__kyEaw",w="Post_post__b7TRF",b="Post_likes__uuGyZ",y="Post_countLikes__szywF",S=function(e){var t=e.countLikes,s=e.value;return(0,v.jsxs)("div",{className:k,children:[(0,v.jsx)("img",{src:"https://img.freepik.com/free-vector/businessman-character-avatar-isolated_24877-60111.jpg?w=2000",alt:""}),(0,v.jsxs)("div",{className:b,children:["likes: ",(0,v.jsx)("p",{className:y,children:t})]}),(0,v.jsx)("div",{className:w,children:s})]})},Z=u.memo((function(e){var t,s=e.myPostData,n=(e.newPostText,e.onChangePost,e.onAddPost),o=(0,g.cI)(),i=o.register,a=o.formState,u=a.errors,l=(a.isValid,o.handleSubmit),c=o.reset,d=s.map((function(e,t){return(0,v.jsx)(S,{value:e.value,countLikes:e.countLikes},t)}));return(0,v.jsxs)("div",{children:[(0,v.jsxs)("form",{onSubmit:l((function(e){n(e.newPostText),c()})),children:[(0,v.jsx)("textarea",(0,r.Z)((0,r.Z)({className:P,style:null!==u&&void 0!==u&&u.newPostText?{border:"1px solid red"}:null},i("newPostText",{required:"need to text something",maxLength:{value:20,message:"need less 20 symbols"}})),{},{cols:"30",rows:"5"})),(0,v.jsxs)("div",{children:[(0,v.jsx)("p",{style:{color:"red"},children:null===u||void 0===u||null===(t=u.newPostText)||void 0===t?void 0:t.message})," ",(0,v.jsx)("input",{type:"submit"})]})]}),d]})})),I=(0,_.qC)((0,m.$j)((function(e){return{myPostData:e.profilePage.myPostData,newPostText:e.profilePage.newPostText}}),{onAddPost:l.Hd}))(Z),T=function(e){var t=e.profile,s=e.status,r=e.updateStatus,n=e.isOwner,o=e.savePhoto;return(0,v.jsxs)("div",{children:[(0,v.jsx)(j,{isOwner:n,profile:t,status:s,updateStatus:r,savePhoto:o}),(0,v.jsx)(I,{})]})},N=s(871),C=s(548),D=function(e){(0,i.Z)(s,e);var t=(0,a.Z)(s);function s(){return(0,n.Z)(this,s),t.apply(this,arguments)}return(0,o.Z)(s,[{key:"refreshProfile",value:function(){var e=this.props.router.params.userId;e||(e=this.props.userId),this.props.setUser(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,s){this.props.router.params.userId!=e.router.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,v.jsx)("div",{children:(0,v.jsx)(T,(0,r.Z)((0,r.Z)({},this.props),{},{isOwner:!this.props.router.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))})}}]),s}(u.Component);var F=(0,_.qC)((0,m.$j)((function(e){return{profile:e.profilePage.userProfile,status:e.profilePage.status,userId:e.auth.userId}}),{setUser:l.av,getStatus:l.lR,updateStatus:l.Nf,savePhoto:l.Ju}),(function(e){return function(t){var s=(0,N.TH)(),n=(0,N.s0)(),o=(0,N.UO)();return(0,v.jsx)(e,(0,r.Z)((0,r.Z)({},t),{},{router:{location:s,navigate:n,params:o}}))}}),C.D)(D)}}]);
//# sourceMappingURL=649.b326c05d.chunk.js.map