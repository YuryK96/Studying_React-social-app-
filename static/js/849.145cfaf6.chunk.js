"use strict";(self.webpackChunksocial_network_pet_project_=self.webpackChunksocial_network_pet_project_||[]).push([[849],{5849:function(e,s,a){a.r(s),a.d(s,{default:function(){return b}});var n=a(1413),i=a(885),t=a(2791),r=a(5290),d=a(6871),c="Dialogs_dialogWrapper__+dQPK",l="Dialogs_form_Message__9UTYw",o="Dialogs_dialog_link__ooZLW",u=a(4554),x=a(890),g=a(4280),h=a(6151),m=a(1686),f=a(184),j=function(e){var s=e.messagesData,a=e.addNewMessage,n=(0,d.TH)(),r=(0,t.useState)(0),c=(0,i.Z)(r,2),l=c[0],o=c[1],g=(0,t.useState)(0),h=(0,i.Z)(g,2),m=h[0],j=h[1];(0,t.useEffect)((function(){var e=new URLSearchParams(n.pathname),a=Number(e.get("userId"));j(a),o(s.findIndex((function(e){return e.id===a})))}),[n.pathname]);var Z=s[l].messagesData.map((function(e,s){return(0,f.jsx)(u.Z,{sx:{paddingTop:1},children:(0,f.jsx)(x.Z,{children:e.message})},s)}));return(0,f.jsxs)(u.Z,{sx:{height:"80vh",padding:1,paddingLeft:2},children:[(0,f.jsx)(u.Z,{sx:{display:"flex",flexDirection:"column",minHeight:"60%"},children:Z}),(0,f.jsx)(p,{addNewMessage:a,urlId:m})]})},p=function(e){var s=e.addNewMessage,a=e.urlId,i=(0,r.cI)(),t=i.register,d=(i.formState.errors,i.handleSubmit),c=i.reset;return(0,f.jsx)(u.Z,{children:(0,f.jsxs)("form",{onSubmit:d((function(e){s(e.newMessage,a),c()})),className:l,children:[(0,f.jsx)(g.Z,(0,n.Z)({label:"New Message",multiline:!0,minRows:3},t("newMessage"))),(0,f.jsx)(u.Z,{sx:{marginTop:1},children:(0,f.jsx)(h.Z,{sx:{width:"100%"},type:"submit",variant:"outlined",endIcon:(0,f.jsx)(m.Z,{}),children:"Send"})})]})})},Z=a(3504),_=a(3044),w=function(e){var s=e.dialogsData.map((function(e){return(0,f.jsx)(u.Z,{sx:{paddingTop:1},children:(0,f.jsxs)(Z.OL,{to:"/Messages/&userId="+e.id,className:o,children:[(0,f.jsxs)(_.Z,{children:[" ",e.name.charAt(0)]}),(0,f.jsx)(x.Z,{sx:{width:"max-content"},children:e.name})]})},e.id)}));return(0,f.jsx)(u.Z,{sx:{width:"max-content"},className:c,children:s})},v=a(8687),M=function(e){return e.dialogsPage.dialogsData},N=a(2812),D=a(2932),I=a(7781),S=a(1889),b=(0,I.qC)(D.e)((function(){var e=(0,v.I0)(),s=(0,v.v9)(M);return(0,f.jsx)(u.Z,{children:(0,f.jsxs)(S.ZP,{container:!0,children:[(0,f.jsx)(S.ZP,{item:!0,xs:2,children:(0,f.jsx)(w,{dialogsData:s})}),(0,f.jsx)(S.ZP,{item:!0,xs:8,children:(0,f.jsx)(j,{addNewMessage:function(s,a){e(N.N.addNewMessage(s,a))},messagesData:s})})]})})}))},1686:function(e,s,a){var n=a(4836);s.Z=void 0;var i=n(a(5649)),t=a(184),r=(0,i.default)((0,t.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send");s.Z=r}}]);
//# sourceMappingURL=849.145cfaf6.chunk.js.map