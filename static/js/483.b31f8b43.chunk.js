"use strict";(self.webpackChunksocial_network_pet_project_=self.webpackChunksocial_network_pet_project_||[]).push([[483],{3483:function(e,s,a){a.r(s),a.d(s,{default:function(){return x}});var r={dialogs:"Dialogs_dialogs__UD7GO",dialogWrapper:"Dialogs_dialogWrapper__KNQ3d",dialog:"Dialogs_dialog__7ZYfY",active:"Dialogs_active__cxeMk",messages:"Dialogs_messages__Ll4Gv"},i=a(1413),n=a(885),t=a(2791),d=a(5290),l=a(6871),o=a(184),c=function(e){var s=e.messagesData,a=e.addNewMessage,i=(0,l.TH)(),d=(0,t.useState)(0),c=(0,n.Z)(d,2),g=c[0],m=c[1],_=(0,t.useState)(0),f=(0,n.Z)(_,2),p=f[0],v=f[1];(0,t.useEffect)((function(){var e=new URLSearchParams(i.pathname),a=Number(e.get("userId"));v(a),m(s.findIndex((function(e){return e.id===a})))}),[i.pathname]);var x=s[g].messagesData.map((function(e,s){return(0,o.jsx)("div",{className:r.message,children:(0,o.jsx)("p",{children:e.message})},s)}));return(0,o.jsxs)("div",{className:r.message,children:[x,(0,o.jsx)(u,{addNewMessage:a,urlId:p})]})},u=function(e){var s=e.addNewMessage,a=e.urlId,r=(0,d.cI)(),n=r.register,t=(r.formState.errors,r.handleSubmit),l=r.reset;return(0,o.jsx)("div",{children:(0,o.jsxs)("form",{onSubmit:t((function(e){s(e.newMessage,a),l()})),children:[(0,o.jsx)("textarea",(0,i.Z)((0,i.Z)({},n("newMessage")),{},{cols:30,rows:10})),(0,o.jsx)("div",{children:(0,o.jsx)("input",{type:"submit",value:"Send"})})]})})},g=a(3504),m=function(e){var s=e.dialogsData.map((function(e){return(0,o.jsx)("div",{className:r.dialog,children:(0,o.jsx)(g.OL,{to:"/Messages/&userId="+e.id,children:(0,o.jsx)("p",{children:e.name})})},e.id)}));return(0,o.jsx)("div",{className:r.dialogWrapper,children:s})},_=a(8687),f=function(e){return e.dialogsPage.dialogsData},p=a(2812),v=a(2932),x=(0,a(7781).qC)(v.e)((function(){var e=(0,_.I0)(),s=(0,_.v9)(f);return(0,o.jsxs)("div",{className:r.dialogs,children:[(0,o.jsx)(m,{dialogsData:s}),(0,o.jsx)(c,{addNewMessage:function(s,a){e(p.N.addNewMessage(s,a))},messagesData:s})]})}))}}]);
//# sourceMappingURL=483.b31f8b43.chunk.js.map