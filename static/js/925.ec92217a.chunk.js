"use strict";(self.webpackChunksocial_network_pet_project_=self.webpackChunksocial_network_pet_project_||[]).push([[925],{925:function(e,n,t){t.r(n);var r=t(1413),s=t(885),i=t(6459),c=t(4554),l=t(890),o=t(3044),a=t(4280),u=t(6151),f=t(2791),d=t(4721),h=t(1686),x=t(5290),j=t(6945),Z=t(8687),g=t(1076),m=t(184),v=function(){var e=(0,Z.v9)((function(e){return e.chat.status})),n=(0,Z.I0)();return(0,f.useEffect)((function(){return n((0,g.WE)()),function(){n((0,g.R7)())}}),[]),(0,m.jsxs)(m.Fragment,{children:["read"!==e&&(0,m.jsxs)(c.Z,{position:"fixed","z-index":2,width:"100%",display:"flex",justifyContent:"center",children:[" ",(0,m.jsx)(j.Z,{})," "]}),(0,m.jsxs)(c.Z,{display:"flex",width:"100%",flexDirection:"column",children:[(0,m.jsx)(p,{}),(0,m.jsx)(y,{})]})]})},p=function(e){(0,i.Z)(e);var n=(0,f.useRef)(null),t=(0,Z.v9)((function(e){return e.chat.messages})),r=(0,f.useState)(!0),l=(0,s.Z)(r,2),o=l[0],a=l[1];return(0,f.useEffect)((function(){var e;o&&(null===(e=n.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[t]),(0,m.jsxs)(c.Z,{onScroll:function(e){return function(e){var n=e.currentTarget;Math.abs(n.scrollHeight-n.clientHeight-n.scrollTop)<1?a(!0):!0===o&&Math.abs(n.scrollHeight-n.clientHeight-n.scrollTop)<10&&a(!1)}(e)},sx:{height:"65vh",overflowY:"auto"},children:[t.map((function(e,n){return(0,m.jsxs)(c.Z,{children:[(0,m.jsx)(w,{message:e})," ",(0,m.jsx)(d.Z,{})," "]},e.id)})),(0,m.jsx)(c.Z,{ref:n})]})},w=f.memo((function(e){var n=e.message;return(0,m.jsxs)(c.Z,{display:"flex",alignItems:"center",m:2,children:[(0,m.jsxs)(c.Z,{width:100,display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",children:[" ",(0,m.jsx)(l.Z,{fontSize:13,textAlign:"center",children:n.userName}),(0,m.jsx)(o.Z,{sizes:"100%",variant:"rounded",src:n.photo})," "]}),(0,m.jsx)(l.Z,{marginLeft:"10%",textAlign:"center",children:n.message})]})})),y=function(e){(0,i.Z)(e);var n=(0,Z.v9)((function(e){return e.chat.status})),t=(0,f.useState)(""),l=(0,s.Z)(t,2),o=l[0],d=l[1],j=(0,Z.I0)(),v=(0,x.cI)(),p=v.register,w=(v.formState.errors,v.handleSubmit),y=(v.reset,function(){o&&(j((0,g.bG)(o)),d(""))});return(0,m.jsx)(c.Z,{height:"17vh",children:(0,m.jsx)("form",{onSubmit:w((function(){})),children:(0,m.jsxs)(c.Z,{m:3,display:"flex",children:[(0,m.jsx)(a.Z,(0,r.Z)((0,r.Z)({onKeyDown:function(e){var t;("Enter"===(t=e).key&&t.ctrlKey||"Enter"===t.key)&&(t.preventDefault(),t.stopPropagation(),"read"===n&&y())},label:"New Message",multiline:!0},p("newMessage")),{},{minRows:2,onChange:function(e){return d(e.currentTarget.value)},value:o})),(0,m.jsx)(c.Z,{alignSelf:"end",marginLeft:1,children:(0,m.jsx)(u.Z,{disabled:"read"!==n,type:"submit",variant:"outlined",endIcon:(0,m.jsx)(h.Z,{}),onClick:y,children:"Send"})})]})})})};n.default=function(){return(0,m.jsx)(c.Z,{children:(0,m.jsx)(v,{})})}},1686:function(e,n,t){var r=t(4836);n.Z=void 0;var s=r(t(5649)),i=t(184),c=(0,s.default)((0,i.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send");n.Z=c}}]);
//# sourceMappingURL=925.ec92217a.chunk.js.map